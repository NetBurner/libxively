<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Xively C library: data_layer_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Xively C library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">data_layer_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><em>The data layer interface</em> - contains function pointers, that's what we expose to the layers above and below  
 <a href="structdata__layer__t.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="data__layer_8h_source.html">data_layer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a4b53926db3e820c82b6cf842763161ce"><td class="memItemLeft" align="right" valign="top">const char *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdata__layer__t.html#a4b53926db3e820c82b6cf842763161ce">encode_datapoint</a> )(const <a class="el" href="structxi__datapoint__t.html">xi_datapoint_t</a> *dp)</td></tr>
<tr class="memdesc:a4b53926db3e820c82b6cf842763161ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function converts <code><a class="el" href="structxi__datapoint__t.html" title="Xively datapoint structure - it contains value and timestamp">xi_datapoint_t</a></code> into an implementation-specific format for a datapoint.  <a href="#a4b53926db3e820c82b6cf842763161ce">More...</a><br/></td></tr>
<tr class="separator:a4b53926db3e820c82b6cf842763161ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad373a78b7da05be4e6a42ac21a8a1250"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdata__layer__t.html#ad373a78b7da05be4e6a42ac21a8a1250">encode_datapoint_in_place</a> )(char *buffer, size_t buffer_size, const <a class="el" href="structxi__datapoint__t.html">xi_datapoint_t</a> *dp)</td></tr>
<tr class="memdesc:ad373a78b7da05be4e6a42ac21a8a1250"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function converts <code><a class="el" href="structxi__datapoint__t.html" title="Xively datapoint structure - it contains value and timestamp">xi_datapoint_t</a></code> into an implementation-specific format for a datapoint with output buffer given as an argument.  <a href="#ad373a78b7da05be4e6a42ac21a8a1250">More...</a><br/></td></tr>
<tr class="separator:ad373a78b7da05be4e6a42ac21a8a1250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f673f3142fa91d1a3ad23c26e1ddd0"><td class="memItemLeft" align="right" valign="top">const char *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdata__layer__t.html#af2f673f3142fa91d1a3ad23c26e1ddd0">encode_create_datastream</a> )(const char *data, const <a class="el" href="structxi__datapoint__t.html">xi_datapoint_t</a> *dp)</td></tr>
<tr class="memdesc:af2f673f3142fa91d1a3ad23c26e1ddd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function converts <code><a class="el" href="structxi__datapoint__t.html" title="Xively datapoint structure - it contains value and timestamp">xi_datapoint_t</a></code> and a given datastream ID string into an implementation-specific format for creating datastreams.  <a href="#af2f673f3142fa91d1a3ad23c26e1ddd0">More...</a><br/></td></tr>
<tr class="separator:af2f673f3142fa91d1a3ad23c26e1ddd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9338b2ca2f32c006988c0446c1081059"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structxi__feed__t.html">xi_feed_t</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdata__layer__t.html#a9338b2ca2f32c006988c0446c1081059">decode_feed</a> )(const char *data, <a class="el" href="structxi__feed__t.html">xi_feed_t</a> *feed)</td></tr>
<tr class="memdesc:a9338b2ca2f32c006988c0446c1081059"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function converts from an implementation-specific format for a feed into <code><a class="el" href="structxi__feed__t.html" title="Xively feed structure - it contains a fixed array of datastream">xi_feed_t</a></code> that is given as an argument.  <a href="#a9338b2ca2f32c006988c0446c1081059">More...</a><br/></td></tr>
<tr class="separator:a9338b2ca2f32c006988c0446c1081059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d137359d8dd52bffbb874bad6e214d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structxi__datapoint__t.html">xi_datapoint_t</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdata__layer__t.html#a5d137359d8dd52bffbb874bad6e214d5">decode_datapoint</a> )(const char *data, <a class="el" href="structxi__datapoint__t.html">xi_datapoint_t</a> *dp)</td></tr>
<tr class="memdesc:a5d137359d8dd52bffbb874bad6e214d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function converts from an implementation-specific format for a datapoint into <code><a class="el" href="structxi__datapoint__t.html" title="Xively datapoint structure - it contains value and timestamp">xi_datapoint_t</a></code> that is given as an argument.  <a href="#a5d137359d8dd52bffbb874bad6e214d5">More...</a><br/></td></tr>
<tr class="separator:a5d137359d8dd52bffbb874bad6e214d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><em>The data layer interface</em> - contains function pointers, that's what we expose to the layers above and below </p>
<p>It is effectively a class that holds declarations of pure virtual functions.</p>
<ul>
<li>All encoders take a given data type (e.g. <code><a class="el" href="structxi__feed__t.html" title="Xively feed structure - it contains a fixed array of datastream">xi_feed_t</a></code>, <code><a class="el" href="structxi__datapoint__t.html" title="Xively datapoint structure - it contains value and timestamp">xi_datapoint_t</a></code>) and produce an encoded string in a buffer, which can be wrapped as payload to <em>transport layer</em> or any other layer, such as <em>gzip</em>.</li>
<li>All decoders take a given data buffer and convert to an appropriate data type.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The encoders and decoders do not have to be paired, e.g. <code>encode_feed</code> is actually implemented using <code>encode_datapoint_in_place</code> in a loop (see <code>http_encode_update_feed</code>), so we only need <code>decode_feed</code>. However, this presumption had been made with CSV <em>data</em> <em>layer</em> implementation and the interface may need to change if other data formats are to be implemented, but it is currently more important to have it the way it is. The layering model should allow for simple way of integrating anything, even if there might seem to be some inconsistency right now. </dd></dl>

<p>Definition at line <a class="el" href="data__layer_8h_source.html#l00035">35</a> of file <a class="el" href="data__layer_8h_source.html">data_layer.h</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a4b53926db3e820c82b6cf842763161ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*( * encode_datapoint)(const <a class="el" href="structxi__datapoint__t.html">xi_datapoint_t</a> *dp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function converts <code><a class="el" href="structxi__datapoint__t.html" title="Xively datapoint structure - it contains value and timestamp">xi_datapoint_t</a></code> into an implementation-specific format for a datapoint. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the buffer where encoded string resides. </dd></dl>

<p>Definition at line <a class="el" href="data__layer_8h_source.html#l00042">42</a> of file <a class="el" href="data__layer_8h_source.html">data_layer.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad373a78b7da05be4e6a42ac21a8a1250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int( * encode_datapoint_in_place)(char *buffer, size_t buffer_size, const <a class="el" href="structxi__datapoint__t.html">xi_datapoint_t</a> *dp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function converts <code><a class="el" href="structxi__datapoint__t.html" title="Xively datapoint structure - it contains value and timestamp">xi_datapoint_t</a></code> into an implementation-specific format for a datapoint with output buffer given as an argument. </p>
<dl class="section return"><dt>Returns</dt><dd>Offset or -1 if an error occurred. </dd></dl>

<p>Definition at line <a class="el" href="data__layer_8h_source.html#l00050">50</a> of file <a class="el" href="data__layer_8h_source.html">data_layer.h</a>.</p>

</div>
</div>
<a class="anchor" id="af2f673f3142fa91d1a3ad23c26e1ddd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*( * encode_create_datastream)(const char *data, const <a class="el" href="structxi__datapoint__t.html">xi_datapoint_t</a> *dp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function converts <code><a class="el" href="structxi__datapoint__t.html" title="Xively datapoint structure - it contains value and timestamp">xi_datapoint_t</a></code> and a given datastream ID string into an implementation-specific format for creating datastreams. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the buffer where encoded string resides. </dd></dl>

<p>Definition at line <a class="el" href="data__layer_8h_source.html#l00060">60</a> of file <a class="el" href="data__layer_8h_source.html">data_layer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9338b2ca2f32c006988c0446c1081059"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structxi__feed__t.html">xi_feed_t</a>*( * decode_feed)(const char *data, <a class="el" href="structxi__feed__t.html">xi_feed_t</a> *feed)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function converts from an implementation-specific format for a feed into <code><a class="el" href="structxi__feed__t.html" title="Xively feed structure - it contains a fixed array of datastream">xi_feed_t</a></code> that is given as an argument. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to feed structure or null if an error occurred. </dd></dl>

<p>Definition at line <a class="el" href="data__layer_8h_source.html#l00070">70</a> of file <a class="el" href="data__layer_8h_source.html">data_layer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5d137359d8dd52bffbb874bad6e214d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structxi__datapoint__t.html">xi_datapoint_t</a>*( * decode_datapoint)(const char *data, <a class="el" href="structxi__datapoint__t.html">xi_datapoint_t</a> *dp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function converts from an implementation-specific format for a datapoint into <code><a class="el" href="structxi__datapoint__t.html" title="Xively datapoint structure - it contains value and timestamp">xi_datapoint_t</a></code> that is given as an argument. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to datastream structure or null if an error occurred. </dd></dl>

<p>Definition at line <a class="el" href="data__layer_8h_source.html#l00079">79</a> of file <a class="el" href="data__layer_8h_source.html">data_layer.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/libxively/<a class="el" href="data__layer_8h_source.html">data_layer.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon May 13 2013 19:00:38 for Xively C library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
